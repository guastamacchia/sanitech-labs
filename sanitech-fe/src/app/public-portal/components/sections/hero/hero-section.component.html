<section id="accesso" class="py-5 bg-white">
  <div class="container">
    <div class="row g-4" [class.align-items-start]="!auth.isAuthenticated" [class.align-items-stretch]="auth.isAuthenticated">
      <div class="col-lg-7 col-md-7">
        <span class="badge badge-soft rounded-pill mb-3 px-3 py-2">Un network, un unico accesso</span>
        <h1 class="display-5 fw-bold mb-3 mt-0">Sanitech: il network sanitario con un unico punto di accesso.</h1>
        <p class="lead text-muted">
          Prenotazioni smart, telemedicina, cartella clinica e notifiche condivise tra tutte le strutture del network,
          in un'unica piattaforma sicura. Accedi ai servizi di qualsiasi clinica Sanitech senza tempi di attesa inutili,
          tieni sotto controllo i tuoi appuntamenti e ricevi aggiornamenti puntuali dai team clinici delle strutture che ti seguono.
        </p>
        <div class="row g-2 mt-3">
          <div class="col">
            <a href="#servizi" class="hero-nav-card text-decoration-none d-block text-center p-3 rounded-3">
              <div class="hero-nav-circle mx-auto mb-2 bg-primary-subtle">
                <i class="bi bi-grid text-primary"></i>
              </div>
              <span class="hero-nav-label d-block">Servizi</span>
              <span class="hero-nav-desc">Telemedicina, visite e referti</span>
            </a>
          </div>
          <div class="col">
            <a href="#testimonianze" class="hero-nav-card text-decoration-none d-block text-center p-3 rounded-3">
              <div class="hero-nav-circle mx-auto mb-2 bg-success-subtle">
                <i class="bi bi-chat-quote text-success"></i>
              </div>
              <span class="hero-nav-label d-block">Recensioni</span>
              <span class="hero-nav-desc">Cosa dicono i pazienti</span>
            </a>
          </div>
          <div class="col">
            <a href="#strutture" class="hero-nav-card text-decoration-none d-block text-center p-3 rounded-3">
              <div class="hero-nav-circle mx-auto mb-2 bg-info-subtle">
                <i class="bi bi-hospital text-info"></i>
              </div>
              <span class="hero-nav-label d-block">Strutture</span>
              <span class="hero-nav-desc">Ospedali e cliniche del network</span>
            </a>
          </div>
          <div class="col">
            <a href="#chi-siamo" class="hero-nav-card text-decoration-none d-block text-center p-3 rounded-3">
              <div class="hero-nav-circle mx-auto mb-2 bg-warning-subtle">
                <i class="bi bi-people text-warning"></i>
              </div>
              <span class="hero-nav-label d-block">Chi siamo</span>
              <span class="hero-nav-desc">La nostra missione e il team</span>
            </a>
          </div>
          <div class="col">
            <a href="#contatti" class="hero-nav-card text-decoration-none d-block text-center p-3 rounded-3">
              <div class="hero-nav-circle mx-auto mb-2 bg-danger-subtle">
                <i class="bi bi-telephone text-danger"></i>
              </div>
              <span class="hero-nav-label d-block">Contatti</span>
              <span class="hero-nav-desc">Scrivici o chiamaci subito</span>
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-5" *ngIf="!auth.isAuthenticated">
        <div class="card card-glass bg-info-subtle p-4" style="border: 1px solid rgba(13, 110, 253, 0.32);">
          <ul class="nav nav-tabs nav-justified w-100 mb-4" role="tablist">
            <li class="nav-item flex-fill" role="presentation">
              <button
                class="nav-link w-100"
                [class.active]="activeAccessTab === 'login'"
                type="button"
                role="tab"
                aria-controls="accesso-riservato"
                [attr.aria-selected]="activeAccessTab === 'login'"
                (click)="setActiveTab('login')">
                Accesso riservato
              </button>
            </li>
            <li class="nav-item flex-fill" role="presentation">
              <button
                class="nav-link w-100"
                [class.active]="activeAccessTab === 'register'"
                type="button"
                role="tab"
                aria-controls="registrazione-pazienti"
                [attr.aria-selected]="activeAccessTab === 'register'"
                (click)="setActiveTab('register')">
                Registrazione pazienti
              </button>
            </li>
          </ul>

          <!-- Grid overlay: entrambi i pane occupano la stessa cella per altezza uniforme -->
          <div class="tab-content" style="display: grid;">
            <div
              class="d-flex flex-column"
              style="grid-area: 1 / 1;"
              [style.visibility]="activeAccessTab === 'login' ? 'visible' : 'hidden'"
              [style.z-index]="activeAccessTab === 'login' ? 1 : 0"
              id="accesso-riservato"
              role="tabpanel">
              <app-login class="d-flex flex-column flex-grow-1"></app-login>
            </div>

            <div
              class="d-flex flex-column"
              style="grid-area: 1 / 1;"
              [style.visibility]="activeAccessTab === 'register' ? 'visible' : 'hidden'"
              [style.z-index]="activeAccessTab === 'register' ? 1 : 0"
              id="registrazione-pazienti"
              role="tabpanel">
              <app-register
                class="d-flex flex-column flex-grow-1"
                [isActive]="activeAccessTab === 'register'">
              </app-register>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-5 d-flex align-items-stretch" *ngIf="auth.isAuthenticated">
        <img
          src="https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?auto=format&fit=crop&w=900&q=80"
          class="rounded-4 shadow-sm w-100"
          style="object-fit: cover; opacity: 0.85;"
          alt="Network Sanitech" />
      </div>
    </div>
  </div>
</section>
